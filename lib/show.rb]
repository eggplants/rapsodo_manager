require "cgi"
require "cgi/session"
require "sqlite3"

# 情報表示
class Show

  # イニシャライザ
  def initialize(cgi, session)
    @cgi = cgi
    @session = session
    @id = session["id"]
    @db = SQLite3::Database.new("./data.db")
  end

  def show_table
    data = []
    sql = "select * from pitcher_data where pitcher_data.id = #{@id};"
    @db.execute(sql).each{|row|
      data<<row
    }
    data.each{|r|
    puts <<-EOS
    <table border="1">
      <tr>
        <th>id</th>
        <th>id</th>
        <th>id</th>
        <th>id</th>
        <th>id</th>
        <th>id</th>
      </tr>
    EOS
    puts "<tr>"
    r.each{|d|puts "<td>" + CGI.escapeHTML(d.to_s) + "</td>"}
    puts "</tr>"
    }
    puts "</table>" 
  end
end
